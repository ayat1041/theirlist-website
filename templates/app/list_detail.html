{% extends "index.html" %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static '../../app/static/app/css/list_detail.css' %}" />
{% endblock css %}

{% block content %}
{% comment %} <link rel="stylesheet" href="../css/list_detail.css"> {% endcomment %}

<style>
    
body{
    color: azure;
}

.list_detail{
    padding-top: 80px;
    position: absolute;
    width: 100%;
    bottom: 0;
    top: 0;
}

.list_detail h3{
    font-size: 26px;
    padding: 0px 20px;
    padding-top: 20px;
    font-weight: lighter;
}
.list_detail small{
    padding: 10px 25px;
}
.genre_wrap{
    margin-left: 26px;
}
.Genre small{
    padding: 0 0;
    margin-right: 2px;
}
.blog_post_body{
    padding-top: 12px;
    padding-bottom: 100px;
    padding-left: 26px;
    margin-right: 30%; 
}
.blog_post_body img{
    height: 200px!important;
    width: auto!important;
    margin: 8px;
}
@media only screen and (max-width: 900px) {
    .blog_post_body img{
        width: 200px!important;
        height: auto!important;
    }
}
.blog_post_body a{
    text-decoration: none;
    color: var(--rd);
}
small{
    color: azure;
}
</style>
<section class="list_detail">
    <h3>{{list.title}}</h3>
    <div class="detail-up-del">
        {% if user.id == list.creator.id %}
        <a href="{% url 'app:delete_movie' list.slug %}"><img src ="{% static 'app/images/delete.png' %}"></a>
        <a href="{% url 'app:update_list' list.slug %}"><img src ="{% static 'app/images/edit.png' %}"></a>
        {% else %}
        <img src ="{% static 'app/images/delete-dis.png' %}">
        <img src ="{% static 'app/images/edit-dis.png' %}">
        {% endif %}
      </div>
      <style>
        .detail-up-del{
            padding: 10px 25px;
        }
        .detail-up-del img{
          height: 14px;
        }
      </style>
    <small>Author : {{list.creator.username}}</small><br>
    <small>Date posted : {{list.posted}}</small><br>
    <div class="genre_wrap">

        {% for tag in list.genre.all %}
        <div class="Genre">
        <small>{{ tag }}</small>
        </div>
        {% empty %}
        No tags!
    {% endfor %}
    </div> 
    <div class="blog_post_body">
        {{list.content|safe}}
    </div>
    <div class="comments">
        <div class="comment headline">
            <h1>Comments</h1>
        </div>
        <hr>
        {% comment %} {% url 'app:add_comment' list.slug %} {% endcomment %}
        <div><a href="#">Add a comment</a><br>
        {% comment %} <div><input type="text" placeholder="enter your comment"></div>
        <div><button type= "submit">Comment</button></div> {% endcomment %}
        {% if not list.comments.all %}
            No comments yet
        {% else %}
            {% for comment in list.comments.all %}
            <div class="comment-user-name-date"><span><small><b>{{ comment.name }}</b></span>{{ comment.date_added }}</small></div>
            <div class="comments-body">
                <p>{{ comment.body }}</p>
                <form method="POST">
                    <input type="text" placeholder="reply"><br>
                    <button type="submit">Reply</button>
                </form>
            </div>
            {% endfor %}
        {% endif %}

        


    </div>    
    <style>
        .comments{
            padding-left: 4vw;
            padding-top: 4vw;
            display: flex;
            flex-direction: column;
            flex-wrap: wrap;
            justify-content: center;
            left: 0;
            right: 0;
            height: max-content;
            padding-bottom: 140px;
            {% comment %} background-color: orange; {% endcomment %}
            position: absolute;
        }
        .comments hr{
            width: 50vw;
            margin: 10px 0px;
            border: 1px solid var(--rd);
        }
        .comments button{
            padding: 4px 6px;
            border: none;
            outline: none;
            border-radius: 2px;
            background-color: var(--rd);
            margin: 10px 0;
        }
        .comments input{
            border: none;
            background-color: black;
            color: var(--rd);
            margin: 10px 0;
            padding: 4px 6px;
        }
        .comment-user-name-date {
            margin: 10px 0;
        }
        .comment-user-name-date small{
            margin: 10px 0; 
            padding: 0 0;
            color: gray;
        }
        .comment-user-name-date span{
            margin-right: 2vw;
        }
        .comments a{
            color: white;
        }
    </style>
</section>

{% endblock content %}